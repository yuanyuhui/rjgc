<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="css/bootstrap.min.css" />
		<!--<link rel="stylesheet" href="layui/css/layui.css" media="all">-->

	</head>

	<body>
		<form class="form-horizontal" id="gfrom">
			<div class="form-group">
				<label for="inputEmail3" class="col-sm-2 control-label">公告标题</label>
				<div class="col-sm-10">
					<input type="text" id="title" class="form-control" style="width: 80%;" :value="grade.title">
				</div>
			</div>
			<div class="form-group">
				<label for="inputPassword3" class="col-sm-2 control-label">公告内容</label>
				<div class="col-sm-10">
					<textarea id="content" class="form-control" rows="6" placeholder="" :value="grade.content"></textarea>
				</div>
			</div>
			<div class="form-group">
				<div class="col-sm-offset-2 col-sm-10">
					<button type="button" id="ggbc" class="btn btn-default">保存</button>
					<button class="btn btn-default" data-dismiss="modal">取消</button>
				</div>
			</div>
		</form>
	</body>
	<script src="js/jquery-1.12.4.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script>
		$(function() {
			var code = $(".modal-header").attr("data-code");
			var vm = new Vue({
				el: "#gfrom",
				data: {
					grade: {}
				},
				created: function() {
					$.ajax("http://localhost:8080/course/notice/notice/" + code, {
						type: "get",
						dataType: "json",
						success: function(data) {
							console.log(data);
							vm.grade = data;
						}
					});
				}
			});
			$("#ggbc").click(function() {
				var notice = {
					"id": code,
					"title": $("#title").val(),
					"content": $("#content").val()
				}
				$.ajax("http://localhost:8080/course/notice/notice", {
					type: "put",
					dataType: "json",
					contentType: "application/json",
					data: JSON.stringify(notice),
					success: function(data) {
						console.log(data);
						if (data.code == 200) {
							alert("保存成功！");
							location.reload(); //重新加载页面
						}
					}
				});
			});
		});
	</script>

</html>